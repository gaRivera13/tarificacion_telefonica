<html lang="es">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <title>
   Administrador
  </title>
 </head>
 <body>
  <div class="container" role="main">
    <aside aria-label="Menú lateral de navegación">
      <div class="top-icon">
        <img alt="Logo" height="32" src="https://storage.googleapis.com/a1aa/image/be98b67e-23ab-41c1-c7ca-c97dfcbfb67c.jpg" width="32" />
      </div>

      <div *ngIf="rol === 'admin'" class="title">GESTIONES</div>
      <button *ngIf="rol === 'admin'" type="button"  [routerLink]="['/gestion-facultad']">
        <img height="22" src="https://img.icons8.com/ios-filled/50/000000/report-card.png" />
        <strong> Cuentas presupuestarias</strong>
      </button>
      
      <button *ngIf="rol === 'admin'" type="button" [routerLink]="['/gestion-unidades']">
        <img height="22" src="https://img.icons8.com/ios-filled/50/000000/report-card.png" />
        <strong>Departamentos</strong>
      </button>
      
      <button *ngIf="rol === 'admin'" type="button" [routerLink]="['/profile/home']">
        <img height="22" src="https://storage.googleapis.com/a1aa/image/fd339202-4f26-4507-0152-82dafbc72d97.jpg" />
        <strong>Usuarios</strong>
      </button>

      <button *ngIf="rol === 'admin'" type="button" [routerLink]="['/gestion-proveedores']">
        <img height="22" src="https://img.icons8.com/ios-filled/50/000000/phone.png" />
        <strong>Proveedores de telefonía</strong>
      </button>
      
      <button *ngIf="rol === 'admin'" type="button" [routerLink]="['/gestion-anexos']">
        <img height="22" src="https://storage.googleapis.com/a1aa/image/6d2d52b3-10fd-4288-2d1b-21ded70a64ac.jpg" />
        Anexos
      </button>

      <div class="title">Consultas y procesos</div>
      <button type="button">
        <img height="22" src="https://img.icons8.com/ios-filled/50/000000/document--v1.png" />
        Calculo de reportes
      </button>
      <button type="button">
        <img height="22" src="https://img.icons8.com/ios-filled/50/000000/document--v1.png" />
        Consulta de reportes
      </button>
      <button type="button">
        <img height="22" src="https://img.icons8.com/ios-filled/50/000000/document--v1.png" />
        Consulta de trafico
      </button>

    </aside>
   <main aria-label="Contenido principal" >
    <header>
      <div class="left">
        <img
          alt="Icono pequeño cuadrado con fondo azul y símbolo blanco"
          height="28"
          src="https://storage.googleapis.com/a1aa/image/60054b82-944f-446f-f6cb-aaeb8a7164d8.jpg"
          width="28"
        />
        <span>{{ rol === 'admin' ? 'Administrador' : 'Encargado' }}</span> <!-- Cambio dinámico del texto -->
      </div>
      <div class="right">
        <button 
          aria-label="Perfil de usuario - ir a página de perfil" 
          type="button" 
          style="height:32px; width:32px; display:flex; align-items:center; justify-content:center;" 
          (click)="toggleLogoutMenu()">
          <img
            alt="Icono de usuario cuadrado con fondo azul y silueta blanca"
            height="32"
            src="https://storage.googleapis.com/a1aa/image/60da4d8f-f031-4c4e-3af8-02f83b828ecb.jpg"
            width="32"
          />
        </button>
      </div>
    </header>
    <br/>
    <section aria-label="Vista de tarificación Mensual">
     <div class="title">
      Vista de tarificación Mensual
     </div>
     <table>
      <thead>
       <tr>
        <th style="width:25%;">
         Facultad
        </th>
        <th style="width:25%;">
         Unidad
        </th>
        <th style="width:20%;">
         Fecha
        </th>
        <th style="width:30%;">
         Total llamadas por celular
        </th>
       </tr>
      </thead>
      <tbody>
       <tr>
        <td>
         Arquitectura
        </td>
        <td>
         Arquitectura residencial
        </td>
        <td>
         24/03/2023
        </td>
        <td>
         $15.000
        </td>
       </tr>
       <tr>
        <td>
         Derecho
        </td>
        <td>
         Derecho procesal
        </td>
        <td>
         23/03/2023
        </td>
        <td>
         $10.000
        </td>
       </tr>
       <tr>
        <td>
         Ciencias
        </td>
        <td>
         Ciencias de la computación
        </td>
        <td>
         22/03/2023
        </td>
        <td>
         $12.000
        </td>
       </tr>
      </tbody>
     </table>
    </section>
    <section aria-label="Vista de Cuenta presupuestaria">
     <div class="title">
      Vista de Cuenta presupuestaria
     </div>
     <table>
      <thead>
       <tr>
        <th style="width:25%;">
         Facultad
        </th>
        <th style="width:20%;">
         Siglas de la Facultad
        </th>
        <th style="width:30%;">
         Proveedores de Telefonía
        </th>
       </tr>
      </thead>
      <tbody>
       <tr>
        <td>
         Arquitectura
        </td>
        <td>
         ARQ
        </td>
        <td>
         Movistar
        </td>
       </tr>
       <tr>
        <td>
         Ingeniería
        </td>
        <td>
         ING
        </td>
        <td>
         Claro
        </td>
       </tr>
       <tr>
        <td>
         Ciencias
        </td>
        <td>
         CIE
        </td>
        <td>
         Movistar
        </td>
       </tr>
       <tr>
        <td>
         Economía
        </td>
        <td>
         ECO
        </td>
        <td>
         WOM
        </td>
       </tr>
      </tbody>
     </table>
    </section>
    <section aria-label="Vista de Unidades de la Facultad">
     <div class="title">
      Vista de Unidades de la Facultad
     </div>
     <table>
      <thead>
       <tr>
        <th style="width:40%;">
         Nombre Unidad
        </th>
        <th style="width:20%;">
         Siglas facultad
        </th>
        <th style="width:40%;">
         Facultad
        </th>
       </tr>
      </thead>
      <tbody>
       <tr>
        <td>
         Arquitectura Residencial
        </td>
        <td>
         ARQ
        </td>
        <td>
         Arquitectura
        </td>
       </tr>
       <tr>
        <td>
         Derecho procesal
        </td>
        <td>
         DER
        </td>
        <td>
         Derecho
        </td>
       </tr>
       <tr>
        <td>
         Ciencias de la computación
        </td>
        <td>
         CIE
        </td>
        <td>
         Ciencias
        </td>
       </tr>
      </tbody>
     </table>
    </section>
   </main>
  </div>
  <script>
   // Dropdown toggle script
  const dropdown = document.getElementById('unidadesDropdown');
  const btn = document.getElementById('unidadesBtn');

  btn.addEventListener('click', () => {
    const isOpen = dropdown.classList.contains('open');
    if (isOpen) {
      dropdown.classList.remove('open');
      btn.setAttribute('aria-expanded', 'false');
    } else {
      dropdown.classList.add('open');
      btn.setAttribute('aria-expanded', 'true');
    }
  });

  // Close dropdown if clicked outside
  document.addEventListener('click', (e) => {
    if (!dropdown.contains(e.target)) {
      dropdown.classList.remove('open');
      btn.setAttribute('aria-expanded', 'false');
    }
  });
  </script>
 </body>
</html>

<!-- Pestaña de logout -->
<div class="logout-menu" [ngClass]="{'show': showLogoutMenu}">
  <div class="logout-menu-content">
    <p>¿Seguro que deseas cerrar sesión?</p>
    <button (click)="logout()">Cerrar sesión</button>
    <button (click)="toggleLogoutMenu()">Cancelar</button>
  </div>
</div>